(this.webpackJsonpcardmaker=this.webpackJsonpcardmaker||[]).push([[0],{14:function(e,t,a){e.exports={makerBlack:"black",makerWhite:"white",makerColorful:"linear-gradient(166deg, rgba(237, 193, 211, 1) 0%,rgba(212, 149, 161, 1) 60%, rgba(162, 63, 63, 1) 100%, rgba(127, 188, 242, 1) 100%)",makerShadow:"rgba(217, 217, 217, 1)",makerWheat:"wheat",card:"card_card__2f0pH",dark:"card_dark__10IQc",light:"card_light__eOs4N",colorful:"card_colorful__hjRew",avatar:"card_avatar__oOWcM",info:"card_info__1c9kv",name:"card_name__1tow0",company:"card_company__24O0T",title:"card_title__37njL",email:"card_email__19_kp",message:"card_message__1nEdb"}},16:function(e,t,a){e.exports={makerBlack:"black",makerWhite:"white",form:"editor_add_form_form__2mME9",input:"editor_add_form_input__9OdJi",textarea:"editor_add_form_textarea__1UmD7",select:"editor_add_form_select__3juvw",button:"editor_add_form_button__3A2L-",fileInput:"editor_add_form_fileInput__3FK_o"}},17:function(e,t,a){e.exports={makerBlack:"black",makerWhite:"white",form:"editor_input_form__1HME5",input:"editor_input_input__3z0Px",textarea:"editor_input_textarea__1vm4s",select:"editor_input_select__4noVB",button:"editor_input_button__3BrtI",fileInput:"editor_input_fileInput__2RZqA"}},21:function(e,t,a){e.exports={makerLightGrey:"#e8e7e6",makerLightPink:"#ffeae8",makerPink:"#feccc7",container:"image_file_input_container__ALMEg",input:"image_file_input_input__2xr_p",button:"image_file_input_button__1YGp2",pink:"image_file_input_pink__lNyW5",grey:"image_file_input_grey__37stR",spinner:"image_file_input_spinner__2I28e",spin:"image_file_input_spin__1FozE"}},26:function(e,t,a){e.exports={makeDarkBule:"#5870cb",login:"login_login__1ZoLZ",container:"login_container__KW9Ok",title:"login_title__2ZNS_",list:"login_list__3XGz-",item:"login_item__VnByK"}},28:function(e,t,a){e.exports={makeBule:"#8c9eff",makeLightBule:"#c0cfff",makeDarkBule:"#5870cb",header:"header_header__JX0nF",logo:"header_logo__3zaBD",title:"header_title__2rGMb",logout:"header_logout__1WWKj"}},32:function(e,t,a){e.exports={makerGreen:"#385461",preview:"preview_preview__3Ehiz",title:"preview_title__3q7Il",cards:"preview_cards__3VdeN"}},36:function(e,t,a){e.exports={makeBule:"#8c9eff",footer:"footer_footer__3KsSt",text:"footer_text__3N7nc"}},39:function(e,t,a){e.exports={makerGreen:"#385461",makerLightGrey:"#e8e7e6",editor:"editor_editor__3iOTt",title:"editor_title__CerMx"}},40:function(e,t,a){e.exports={maker:"maker_maker__3dZ_C",makerMain:"maker_makerMain__JPGEL"}},44:function(e,t,a){e.exports={makeDarkBule:"#5870cb",app:"App_app__ZdYCX"}},46:function(e,t,a){e.exports={makerWhite:"white",makerGreen:"#385461",button:"button_button__GFBTu"}},52:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(15),c=a(2),r=a(3),i=a.n(r),o=a(43),s=a.n(o),l=(a(52),a(35)),u=a(8),d=a(44),m=a.n(d),j=a(26),p=a.n(j),f=a(28),_=a.n(f),b=Object(r.memo)((function(e){var t=e.onLogout;return Object(c.jsxs)("header",{className:_.a.header,children:[Object(c.jsx)("img",{className:_.a.logo,src:"../images/logo.png",alt:"card-maker"}),Object(c.jsx)("h1",{className:_.a.title,children:"Business Card Maker"}),t&&Object(c.jsx)("button",{className:_.a.logout,type:"button",onClick:t,children:"Logout"})]})})),h=a(36),O=a.n(h),x=Object(r.memo)((function(){return Object(c.jsx)("footer",{className:O.a.footer,children:Object(c.jsx)("p",{className:O.a.text,children:"Code your dream"})})})),k=function(e){var t=e.auth,a=Object(u.f)(),n=function(e){a.push({pathname:"/maker",uid:e})};return Object(r.useEffect)((function(){t.onAuthState((function(e){e&&n(e.uid)}))}),[]),Object(c.jsxs)("section",{className:p.a.login,children:[Object(c.jsx)(b,{}),Object(c.jsxs)("section",{className:p.a.container,children:[Object(c.jsx)("h2",{className:p.a.title,children:"Login"}),Object(c.jsx)("ul",{className:p.a.list,children:Object(c.jsx)("li",{className:p.a.item,children:Object(c.jsx)("button",{type:"button",onClick:function(){t.login().then((function(e){n(e.user.uid)}))},children:"Google"})})})]}),Object(c.jsx)(x,{})]})},g=a(19),v=a(16),N=a.n(v),y=a(46),C=a.n(y),w=Object(r.memo)((function(e){var t=e.name,a=e.onClick;return Object(c.jsx)("button",{className:C.a.button,onClick:a,children:t})})),I=Object(r.memo)((function(e){var t=e.FileInput,a=e.onAdd,n=Object(r.useState)({name:"",url:""}),i=Object(g.a)(n,2),o=i[0],s=i[1],l=Object(r.useRef)(),u=Object(r.useRef)(),d=Object(r.useRef)(),m=Object(r.useRef)(),j=Object(r.useRef)(),p=Object(r.useRef)(),f=Object(r.useRef)();return Object(c.jsxs)("form",{ref:l,className:N.a.form,children:[Object(c.jsx)("input",{ref:u,className:N.a.input,type:"text",name:"name",placeholder:"name"}),Object(c.jsx)("input",{ref:d,className:N.a.input,type:"text",name:"company",placeholder:"company"}),Object(c.jsxs)("select",{ref:m,className:N.a.select,name:"theme",placeholder:"theme",children:[Object(c.jsx)("option",{placeholder:"light",children:"light"}),Object(c.jsx)("option",{placeholder:"dark",children:"dark"}),Object(c.jsx)("option",{placeholder:"colorful",children:"colorful"})]}),Object(c.jsx)("input",{ref:j,className:N.a.input,type:"text",name:"title",placeholder:"title"}),Object(c.jsx)("input",{ref:p,className:N.a.input,type:"text",name:"email",placeholder:"email"}),Object(c.jsx)("textarea",{ref:f,className:N.a.textarea,name:"message",placeholder:"message"}),Object(c.jsx)("div",{className:N.a.fileInput,children:Object(c.jsx)(t,{onChangeFile:function(e){s(e)},name:o.name})}),Object(c.jsx)(w,{name:"Add",onClick:function(e){e.preventDefault();var t={id:Date.now(),name:u.current.value||"",company:d.current.value||"",theme:m.current.value,title:j.current.value||"",email:p.current.value||"",message:f.current.value||"",fileName:o.name||"",fileURL:o.url||""};s({name:"",url:""}),l.current.reset(),a(t)}})]})})),F=a(30),B=a(17),L=a.n(B),R=Object(r.memo)((function(e){var t=e.FileInput,a=e.card,r=e.deleteCard,i=e.updateCard,o=a.name,s=a.company,l=a.title,u=a.email,d=a.message,m=a.theme,j=a.fileName,p=function(e){null!=e.currentTarget&&(e.preventDefault(),i(Object(n.a)(Object(n.a)({},a),{},Object(F.a)({},e.currentTarget.name,e.currentTarget.value))))};return Object(c.jsxs)("form",{className:L.a.form,children:[Object(c.jsx)("input",{className:L.a.input,type:"text",name:"name",value:o,onChange:p}),Object(c.jsx)("input",{className:L.a.input,type:"text",name:"company",value:s,onChange:p}),Object(c.jsxs)("select",{className:L.a.select,name:"theme",value:m,onChange:p,children:[Object(c.jsx)("option",{value:"light",children:"light"}),Object(c.jsx)("option",{value:"dark",children:"dark"}),Object(c.jsx)("option",{value:"colorful",children:"colorful"})]}),Object(c.jsx)("input",{className:L.a.input,type:"text",name:"title",value:l,onChange:p}),Object(c.jsx)("input",{className:L.a.input,type:"text",name:"email",value:u,onChange:p}),Object(c.jsx)("textarea",{className:L.a.textarea,name:"message",value:d,onChange:p}),Object(c.jsx)("div",{className:L.a.fileInput,children:Object(c.jsx)(t,{name:j,onChangeFile:function(e){i(Object(n.a)(Object(n.a)({},a),{},{fileName:e.name,fileURL:e.url}))}})}),Object(c.jsx)(w,{name:"Delete",onClick:function(e){e.preventDefault(),r(a)}})]})})),A=a(39),D=a.n(A),S=function(e){var t=e.FileInput,a=e.cards,n=e.addCard,r=e.deleteCard,i=e.updateCard;return Object(c.jsxs)("section",{className:D.a.editor,children:[Object(c.jsx)("h1",{className:D.a.title,children:"Card Maker"}),a&&Object.keys(a).map((function(e){return Object(c.jsx)(R,{FileInput:t,card:a[e],deleteCard:r,updateCard:i},e)})),Object(c.jsx)(I,{FileInput:t,onAdd:n})]})},E=a(14),G=a.n(E);function M(e){switch(e){case"dark":return G.a.dark;case"light":return G.a.light;case"colorful":return G.a.colorful;default:throw new Error("unknown theme: ".concat(e))}}var W=Object(r.memo)((function(e){var t=e.card,a=t.name,n=t.company,r=t.title,i=t.email,o=t.message,s=t.theme,l=(t.fileName,t.fileURL||"/images/default_logo.png");return Object(c.jsxs)("li",{className:"".concat(G.a.card," ").concat(M(s)),children:[Object(c.jsx)("img",{className:G.a.avatar,src:l,alt:"profile photo"}),Object(c.jsxs)("div",{className:G.a.info,children:[Object(c.jsx)("h1",{className:G.a.name,children:a}),Object(c.jsx)("p",{className:G.a.company,children:n}),Object(c.jsx)("p",{className:G.a.title,children:r}),Object(c.jsx)("p",{className:G.a.email,children:i}),Object(c.jsx)("p",{className:G.a.message,children:o})]})]})})),P=a(32),z=a.n(P),T=function(e){var t=e.cards;return Object(c.jsxs)("section",{className:z.a.preview,children:[Object(c.jsx)("h1",{className:z.a.title,children:"Card Preview"}),Object(c.jsx)("ul",{className:z.a.cards,children:t&&Object.keys(t).map((function(e){return Object(c.jsx)(W,{card:t[e]},e)}))})]})},U=a(40),Z=a.n(U),K=function(e){var t=e.FileInput,a=e.auth,i=e.database,o=Object(u.f)(),s=o.state,l=Object(r.useState)(),d=Object(g.a)(l,2),m=d[0],j=d[1],p=Object(r.useState)(s&&s.id),f=Object(g.a)(p,2),_=f[0],h=f[1],O=Object(r.useCallback)((function(){a.logout().then((function(){o.push("/")}))}),[a]);Object(r.useEffect)((function(){a.onAuthState((function(e){e?h(e.uid):o.push("/")}))}),[a,o]),Object(r.useEffect)((function(){if(_){var e=i.syncCards(_,(function(e){j(e)}));return function(){return e()}}}),[i,_]);var k=function(e){j((function(t){var a=Object(n.a)({},t);return a[e.id]=e,a})),i.saveCard(_,e)};return Object(c.jsxs)("div",{className:Z.a.maker,children:[Object(c.jsx)(b,{onLogout:O}),Object(c.jsxs)("section",{className:Z.a.makerMain,children:[Object(c.jsx)(S,{FileInput:t,cards:m,addCard:k,deleteCard:function(e){j((function(t){var a=Object(n.a)({},t);return delete a[e.id],a})),i.removeCard(_,e)},updateCard:k}),Object(c.jsx)(T,{cards:m})]}),Object(c.jsx)(x,{})]})};var J=function(e){var t=e.FileInput,a=e.auth,n=e.database;return Object(c.jsx)("div",{className:m.a.app,children:Object(c.jsx)(l.a,{children:Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{path:"/maker",children:Object(c.jsx)(K,{FileInput:t,auth:a,database:n})}),Object(c.jsx)(u.a,{path:"/",children:Object(c.jsx)(k,{auth:a})})]})})})},q=a(22),H=a(23),V=a(25),X={apiKey:"AIzaSyDiuH0AP-InN5uAeDRfl1dsRn0-lqlklZ4",authDomain:"".concat("card-maker-c6718",".firebaseapp.com"),projectId:"card-maker-c6718",appId:"1:176473789825:web:e171603d439f9422078480",databaseURL:"https://card-maker-c6718-default-rtdb.firebaseio.com",storageBucket:"card-maker-c6718.appspot.com"},Y=V.a.initializeApp(X),Q=function(){function e(){Object(q.a)(this,e)}return Object(H.a)(e,[{key:"login",value:function(){var e=new V.a.auth.GoogleAuthProvider;return Y.auth().signInWithPopup(e)}},{key:"logout",value:function(){return V.a.auth().signOut()}},{key:"onAuthState",value:function(e){V.a.auth().onAuthStateChanged((function(t){e(t)}))}}]),e}(),$=a(24),ee=a.n($),te=a(31),ae=function(){function e(){Object(q.a)(this,e)}return Object(H.a)(e,[{key:"upload",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),a.append("upload_preset","aehtvzgm"),"https://api.cloudinary.com/v1_1/dlcfslhsk/upload",e.next=6,fetch("https://api.cloudinary.com/v1_1/dlcfslhsk/upload",{method:"POST",body:a});case 6:return n=e.sent,e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ne=a(21),ce=a.n(ne),re=Object(r.memo)((function(e){var t=e.fileUploader,a=e.onChangeFile,n=e.name,i=Object(r.useState)(!1),o=Object(g.a)(i,2),s=o[0],l=o[1],u=Object(r.useRef)(),d=function(){var e=Object(te.a)(ee.a.mark((function e(n){var c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,t.upload(n.target.files[0]);case 3:c=e.sent,l(!1),a({name:c.original_filename,url:c.url});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:ce.a.container,children:[Object(c.jsx)("input",{type:"file",className:ce.a.input,ref:u,name:"file",accept:"image/*",onChange:d}),!s&&Object(c.jsx)("button",{type:"button",className:"".concat(ce.a.button," ").concat(n?ce.a.pink:ce.a.grey),onClick:function(e){e.preventDefault(),u.current.click()},children:n||"No File"}),s&&Object(c.jsx)("div",{className:ce.a.spinner})]})})),ie=function(){function e(){Object(q.a)(this,e)}return Object(H.a)(e,[{key:"syncCards",value:function(e,t){var a=Y.database().ref("".concat(e,"/cards"));return a.on("value",(function(e){var a=e.val();a&&t(a)})),function(){return a.off()}}},{key:"saveCard",value:function(e,t){Y.database().ref("".concat(e,"/cards/").concat(t.id)).set(t)}},{key:"removeCard",value:function(e,t){Y.database().ref("".concat(e,"/cards/").concat(t.id)).remove()}}]),e}(),oe=new Q,se=new ae,le=new ie,ue=Object(r.memo)((function(e){return Object(c.jsx)(re,Object(n.a)(Object(n.a)({},e),{},{fileUploader:se}))}));s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(J,{auth:oe,FileInput:ue,database:le})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.94e05aa3.chunk.js.map